<?php
set_time_limit(0);
include('my_twitter.php');


class twitterTalk extends MyTwitter{
	var $sleeptime = 60;

	function startTalking(){
		while(1){
			
			$this->checkTwitter();
			echo '

------------   Checking Next Batch Of Messages ---------------				
';
			sleep($this->sleeptime);
		}	
	}

	function checkTwitter(){
		$twits = $this->userTimeLine();
		foreach($twits as $twit){

			if(ereg($this->getUsername(),$twit['text'])){

				$msg = $twit['user']['name'] . ' says '. $twit['text'];
				$this->say($msg);
			}		
		}
	}

	function say($msg){
		@exec('say '. $msg);
				echo $msg . '

';
	}
}


$twitterTalk = new twitterTalk('miamiphp','#duelcore55');
$twitterTalk->startTalking();
?>
